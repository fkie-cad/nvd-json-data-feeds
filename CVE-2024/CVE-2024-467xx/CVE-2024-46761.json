{
  "id": "CVE-2024-46761",
  "sourceIdentifier": "416baaa9-dc9f-4396-8d5f-8c081fb06d67",
  "published": "2024-09-18T08:15:04.517",
  "lastModified": "2024-09-20T12:30:51.220",
  "vulnStatus": "Awaiting Analysis",
  "cveTags": [],
  "descriptions": [
    {
      "lang": "en",
      "value": "In the Linux kernel, the following vulnerability has been resolved:\n\npci/hotplug/pnv_php: Fix hotplug driver crash on Powernv\n\nThe hotplug driver for powerpc (pci/hotplug/pnv_php.c) causes a kernel\ncrash when we try to hot-unplug/disable the PCIe switch/bridge from\nthe PHB.\n\nThe crash occurs because although the MSI data structure has been\nreleased during disable/hot-unplug path and it has been assigned\nwith NULL, still during unregistration the code was again trying to\nexplicitly disable the MSI which causes the NULL pointer dereference and\nkernel crash.\n\nThe patch fixes the check during unregistration path to prevent invoking\npci_disable_msi/msix() since its data structure is already freed."
    },
    {
      "lang": "es",
      "value": "En el kernel de Linux, se ha resuelto la siguiente vulnerabilidad: pci/hotplug/pnv_php: Se soluciona el fallo del controlador hotplug en Powernv El controlador hotplug para powerpc (pci/hotplug/pnv_php.c) provoca un fallo del kernel cuando intentamos desconectar/deshabilitar en caliente el conmutador/puente PCIe del PHB. El fallo se produce porque, aunque la estructura de datos MSI se ha liberado durante la ruta de deshabilitaci\u00f3n/desconexi\u00f3n en caliente y se le ha asignado NULL, a\u00fan durante la anulaci\u00f3n del registro el c\u00f3digo estaba intentando de nuevo deshabilitar expl\u00edcitamente el MSI, lo que provoca la desreferencia del puntero NULL y el fallo del kernel. El parche corrige la comprobaci\u00f3n durante la ruta de anulaci\u00f3n del registro para evitar invocar pci_disable_msi/msix() ya que su estructura de datos ya est\u00e1 liberada."
    }
  ],
  "metrics": {},
  "references": [
    {
      "url": "https://git.kernel.org/stable/c/335e35b748527f0c06ded9eebb65387f60647fda",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/438d522227374042b5c8798f8ce83bbe479dca4d",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/4eb4085c1346d19d4a05c55246eb93e74e671048",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/b82d4d5c736f4fd2ed224c35f554f50d1953d21e",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/bc1faed19db95abf0933b104910a3fb01b138f59",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/bfc44075b19740d372f989f21dd03168bfda0689",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/c0d8094dc740cfacf3775bbc6a1c4720459e8de4",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    },
    {
      "url": "https://git.kernel.org/stable/c/c4c681999d385e28f84808bbf3a85ea8e982da55",
      "source": "416baaa9-dc9f-4396-8d5f-8c081fb06d67"
    }
  ]
}